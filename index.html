<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <meta name="description" content="Ù…Ù†ØµØ© Ù…Ø­Ø§Ø¯Ø«Ø© Ø°ÙƒÙŠØ© Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ">
    <meta name="theme-color" content="#1f2937">
    <title>NeuroX - Ù…Ù†ØµØ© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <!-- Ø¥Ø¶Ø§ÙØ© Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§ </text></svg>" type="image/svg+xml">
    <link rel="stylesheet" href="style-enhanced.css">
    <link rel="stylesheet" href="update-modal.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Ø£Ù†Ù…Ø§Ø· Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ø²Ø± Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ± -->
    <style>
        .message.received {
            position: relative;
        }
        .message-copy-btn {
            position: absolute;
            top: 12px;
            left: 12px; /* ØªØºÙŠÙŠØ± Ù…Ù† right Ø¥Ù„Ù‰ left Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø± Ø¹Ù„Ù‰ ÙŠØ³Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø© */
            width: 32px;
            height: 32px;
            background-color: #3498db;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.2s ease;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .message.received:hover .message-copy-btn {
            opacity: 1;
            transform: scale(1);
        }
        .message-copy-btn svg {
            width: 16px;
            height: 16px;
            fill: none;
            stroke: white;
            stroke-width: 2;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.2s ease;
        }
        .message-copy-btn .copy-icon {
            opacity: 1;
        }
        .message-copy-btn .check-icon {
            opacity: 0;
        }
        .message-copy-btn.copied .copy-icon {
            opacity: 0;
        }
        .message-copy-btn.copied .check-icon {
            opacity: 1;
            stroke: #4cd964;
        }
        .message-copy-btn.copied {
            background-color: #27ae60;
        }
        body[data-theme="dark"] .message-copy-btn {
            background-color: #2c3e50;
        }
        
        /* AÃ±adir estas reglas para asegurar que el botÃ³n aparezca en el lado izquierdo */
        html[dir="rtl"] .message-copy-btn {
            right: auto;
            left: 12px !important;
        }
        
        /* Asegurar que el botÃ³n sea visible */
        .message-copy-btn {
            z-index: 100;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 46px;
            height: 24px;
            cursor: pointer;
            z-index: 10;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
            position: absolute;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
            z-index: 1;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .3s;
            border-radius: 50%;
            z-index: 2;
        }

        .toggle-switch:hover .toggle-slider {
            box-shadow: 0 0 3px #2196F3;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: #2196F3;
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(22px);
        }

        /* ØªØ²ÙŠÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… */
        .toggle-slider:after {
            content: "";
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 34px;
            background-color: rgba(33, 150, 243, 0);
            transition: background-color 0.3s;
            z-index: 0;
            pointer-events: none;
        }

        .toggle-switch:hover .toggle-slider:after {
            background-color: rgba(33, 150, 243, 0.1);
        }
        
        /* Ø¥Ø¶Ø§ÙØ© Ù†Ù…Ø· Ù„ÙˆØ¶Ø¹ Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± */
        .close-settings-btn {
            position: absolute;
            left: 15px;
            right: auto;
            top: 15px;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„ÙØ§ØªØ­) */
        .theme-toggle {
            position: relative;
            width: 56px;
            height: 28px;
            border: none;
            background: transparent;
            padding: 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            overflow: visible;
        }

        .theme-toggle-track {
            position: relative;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #f7b733, #fc4a1a);
            border-radius: 14px;
            display: flex;
            align-items: center;
            padding: 2px;
            box-shadow: 0 2px 8px rgba(252, 74, 26, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }

        body[data-theme="dark"] .theme-toggle-track {
            background: linear-gradient(to right, #141e30, #243b55);
            box-shadow: 0 2px 8px rgba(20, 30, 48, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.1);
        }

        .theme-toggle-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            z-index: 1;
            position: absolute;
            transition: transform 0.5s ease, opacity 0.3s ease;
        }

        .light-icon {
            left: 4px;
            opacity: 1;
            transform: translateY(0) rotate(0);
            text-shadow: 0 0 10px rgba(252, 74, 26, 0.5);
        }

        .dark-icon {
            right: 4px;
            opacity: 0.5;
            transform: translateY(0) rotate(0);
            text-shadow: 0 0 10px rgba(36, 59, 85, 0.5);
        }

        .theme-toggle-ball {
            position: absolute;
            left: 2px;
            width: 24px;
            height: 24px;
            background: #ffffff;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                        background-color 0.5s ease;
            z-index: 2;
        }

        body[data-theme="dark"] .theme-toggle-ball {
            transform: translateX(28px);
            background: #2c3e50;
        }

        body[data-theme="dark"] .light-icon {
            opacity: 0.5;
            transform: translateY(0) rotate(-45deg);
        }

        body[data-theme="dark"] .dark-icon {
            opacity: 1;
            transform: translateY(0) rotate(0);
        }

        .theme-toggle:hover .theme-toggle-track {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .theme-toggle:hover .theme-toggle-ball {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„ÙÙ„Ø§Ø´ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± */
        .theme-toggle:active .theme-toggle-ball {
            transform: scale(0.9);
        }

        body[data-theme="dark"] .theme-toggle:active .theme-toggle-ball {
            transform: scale(0.9) translateX(28px);
        }

        @media (prefers-reduced-motion: reduce) {
            .theme-toggle-ball,
            .theme-toggle-icon {
                transition-duration: 0.1s;
            }
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„ÙˆÙ…ÙŠØ¶ Ù„Ù„Ø¹Ø²ÙŠØ² Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø© */
        @keyframes theme-transition-flash {
            0% { opacity: 0; }
            50% { opacity: 0.3; }
            100% { opacity: 0; }
        }
        
        .theme-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
        }
        
        .theme-transition-overlay.flash {
            animation: theme-transition-flash 0.5s ease-out;
        }
        
        body[data-theme="dark"] .theme-transition-overlay {
            background: black;
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø²Ø± Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„ */
        .scroll-indicator {
            position: fixed;
            left: 50%;
            bottom: 80px; /* ÙÙˆÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ù‚Ù„ÙŠÙ„ */
            transform: translateX(-50%);
            background-color: var(--primary-color, #007bff);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 950;
            opacity: 0; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            visibility: hidden; /* Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…Ø®ÙÙŠØ§Ù‹ */
            transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
        }
        
        .scroll-indicator.visible {
            opacity: 0.8; /* Ù…Ø±Ø¦ÙŠ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ visible */
            visibility: visible;
        }
        
        .scroll-indicator:hover {
            opacity: 1;
            transform: translateX(-50%) scale(1.1);
        }
        
        .scroll-indicator svg {
            width: 20px;
            height: 20px;
        }
        
        /* ØªÙƒÙŠÙ Ù…Ø¹ ÙˆØ¶Ø¹ Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ */
        @media (max-width: 768px) {
            .scroll-indicator {
                bottom: 70px;
                width: 36px;
                height: 36px;
            }
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ø¹ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„ÙØ§ØªØ­ */
        body[data-theme="light"] .scroll-indicator {
            background-color: var(--primary-color, #007bff);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ± Ø§Ù„ØµØºÙŠØ± ÙˆØ¹Ø¯Ù… Ø§Ø®ØªÙØ§Ø¡ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        /* Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ù„Ù‡Ø§ Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ© ÙˆØ³ØªØªØ¬Ø§ÙˆØ² Ø£ÙŠ Ø£Ù†Ù…Ø§Ø· Ø£Ø®Ø±Ù‰ */
        .message-image, 
        .content-container img,
        img.message-image,
        .message img:not(.message-avatar img):not(.logo img),
        .chat-messages img:not(.message-avatar img):not(.logo img) {
            max-width: 40% !important;
            max-height: 120px !important;
            object-fit: contain !important;
            display: block !important;
            border-radius: 8px !important;
            margin: 10px 0 !important;
            border: 1px solid var(--border-color) !important;
        }
        
        /* ØªØ£ÙƒÙŠØ¯ ÙˆØ¶Ø¹ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        .chat-input-container {
            position: fixed !important;
            bottom: 0 !important;
            left: 0 !important;
            right: 0 !important;
            z-index: 950 !important;
            background-color: var(--background) !important;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
            padding: 10px !important;
            margin: 0 !important;
        }
        
        /* Ø¶Ù…Ø§Ù† Ù…Ø³Ø§Ø­Ø© ÙƒØ§ÙÙŠØ© Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙˆÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        .chat-messages {
            padding-bottom: 100px !important;
            margin-bottom: 60px !important;
        }
        
        /* Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ±Ø§ÙƒØ¨ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .message {
            margin-bottom: 20px !important;
            box-sizing: border-box !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }
        
        /* Ø®Ø§Øµ Ø¨Ø¹Ø§Ø±Ø¶ Ø§Ù„ØµÙˆØ± */
        .image-viewer {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            background-color: rgba(0, 0, 0, 0.9) !important;
            z-index: 9999 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        .image-viewer img {
            max-width: 90% !important;
            max-height: 90vh !important;
            object-fit: contain !important;
        }
    </style>
    
    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/he@1.2.0/he.min.js"></script>
    
    <!-- ØªØ­Ø³ÙŠÙ† ØªÙƒÙˆÙŠÙ† ÙˆØªØ­Ù…ÙŠÙ„ MathJax -->
    <script type="text/javascript">
    window.MathJax = {
        loader: {
            load: ['[tex]/ams', '[tex]/color', '[tex]/html', '[tex]/noerrors', '[tex]/physics', '[tex]/mathtools', '[tex]/mhchem', '[tex]/cancel']
        },
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true,
            tags: 'ams',
            macros: {},
            packages: {'[+]': ['ams', 'color', 'html', 'noerrors', 'physics', 'mathtools', 'mhchem', 'cancel']}
        },
        svg: {
            fontCache: 'global'
        },
        options: {
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process',
            enableMenu: false,
            renderActions: {
                assistiveMml: [],
                addMenu: []
            }
        },
        startup: {
            ready: function() {
                MathJax.startup.defaultReady();
                console.info('MathJax ØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…!');
                
                // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©
                window.renderMath = function(element) {
                    try {
                        if (!element) {
                            MathJax.typesetPromise().then(() => {
                                console.log('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©');
                            }).catch(err => {
                                console.error('Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª:', err);
                            });
                        } else {
                            MathJax.typesetPromise([element]).then(() => {
                                console.log('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯');
                            }).catch(err => {
                                console.error('Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª:', err);
                            });
                        }
                    } catch (e) {
                        console.error('Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©:', e);
                    }
                };
                
                // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯
                document.addEventListener('DOMContentLoaded', function() {
                    window.renderMath();
                });
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¯Ø« Ù„ØªØ­Ø¯ÙŠØ« MathJax Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
                document.dispatchEvent(new Event('mathjax-ready'));
            }
        }
    };
    </script>
    <!-- ØªØ­Ù…ÙŠÙ„ MathJax Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØµÙŠØº -->
    <script id="MathJax-script" async 
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" 
            onload="console.log('MathJax Ù…Ø­Ù…Ù„');" 
            onerror="console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ MathJax');">
    </script>
    
    <!-- Import map for Gemini API -->
    <script type="importmap">
    {
        "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai",
            "@google/generative-ai/server": "https://esm.run/@google/generative-ai/server"
        }
    }
    </script>
</head>
<body>
    <!-- Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ù„Ø¨ Ù„Ù„ØµÙˆØ± Ø¨Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© -->
    <template id="fullscreenImageTemplate">
        <div class="fullscreen-image">
            <img src="" alt="ØµÙˆØ±Ø© Ø¨Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©">
            <button class="fullscreen-close"><i class="fas fa-times"></i></button>
        </div>
    </template>
    
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo">
                    <i class="fas fa-brain"></i>
                    <span>NeuroX</span>
                </a>
                <button class="sidebar-close-btn" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="sidebar-content">
                <button class="new-chat-btn">
                    <i class="fas fa-plus"></i>
                    <span>Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø©</span>
                </button>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
                    <div class="chat-history">
                        <div class="chat-item">
                            <i class="fas fa-comment"></i>
                            <span>Ù…Ø­Ø§Ø¯Ø«Ø© Ø³Ø§Ø¨Ù‚Ø© 1</span>
                            <button class="delete-chat-btn"><i class="fas fa-trash"></i></button>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-comment"></i>
                            <span>Ù…Ø­Ø§Ø¯Ø«Ø© Ø³Ø§Ø¨Ù‚Ø© 2</span>
                            <button class="delete-chat-btn"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="settings-btn">
                    <i class="fas fa-cog"></i>
                    <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                </button>
                <div class="app-version">v1.0.0</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙƒÙ…Ø§ Ù‡Ùˆ ... -->
            <header class="main-header">
                <button class="toggle-sidebar" id="toggleSidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="#" class="logo">
                    <i class="fas fa-brain"></i>
                    <span>NeuroX</span>
                </a>
                <div class="header-title">
                    <p>Ù…Ù†ØµØ© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©</p>
                </div>
                <div class="header-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <div class="theme-toggle-track">
                            <div class="theme-toggle-icon light-icon">
                                <i class="fas fa-sun"></i>
                            </div>
                            <div class="theme-toggle-icon dark-icon">
                                <i class="fas fa-moon"></i>
                            </div>
                            <div class="theme-toggle-ball"></div>
                        </div>
                    </button>
                </div>
            </header>

            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- Welcome message -->
                    <div class="message received welcome-message">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <span class="message-sender">NeuroX</span>
                                <span class="message-time">Ø§Ù„Ø¢Ù†</span>
                            </div>
                            <div class="content-container">
                                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© NeuroX Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</p>
                                <div class="welcome-suggestions">
                                    <button class="suggestion-btn">ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠØŸ</button>
                                    <button class="suggestion-btn">Ù…Ø§ Ù‡ÙŠ Ù‚Ø¯Ø±Ø§ØªÙƒØŸ</button>
                                    <button class="suggestion-btn">Ø§ÙƒØªØ¨ Ù„ÙŠ ÙƒÙˆØ¯ Ø¨Ù„ØºØ© Python</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <form id="messageForm">
                        <div id="filePreviewContainer" class="file-preview-container" style="display: none;">
                            <div id="filePreview" class="file-preview"></div>
                            <div class="file-metadata">
                                <span class="file-name">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙ‚</span>
                            </div>
                            <button type="button" id="removeFile" class="remove-file-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="input-wrapper">
                            <input type="text" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
                            <div class="input-buttons">
                                <label for="fileUpload" class="upload-btn" title="Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù">
                                    <svg class="attachment-icon" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                                    </svg>
                                </label>
                                <input type="file" id="fileUpload" accept="image/*,audio/wav,audio/mp3,audio/aiff,audio/aac,audio/ogg,audio/flac,application/pdf,application/x-javascript,text/javascript,application/x-python,text/x-python,text/plain,text/html,text/css,text/md,text/csv,text/xml,text/rtf" hidden>
                                <button type="submit" title="Ø¥Ø±Ø³Ø§Ù„" class="send-btn">
                                    <svg class="send-icon" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <circle class="send-icon-circle" cx="12" cy="12" r="10" opacity="0"></circle>
                                        <path class="send-icon-path" d="M22 2L11 13"></path>
                                        <path class="send-icon-path" d="M22 2l-7 20-4-9-9-4 20-7z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <!-- Settings Modal Template -->
    <template id="settingsModalTemplate">
        <div class="settings-modal">
            <div class="settings-content">
                <h2><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
                
                <div class="settings-tabs">
                    <button class="settings-tab active" data-tab="general">Ø¹Ø§Ù…</button>
                    <button class="settings-tab" data-tab="interface">ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</button>
                    <button class="settings-tab" data-tab="advanced">Ù…ØªÙ‚Ø¯Ù…</button>
                    <button class="settings-tab" data-tab="privacy">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</button>
                </div>
                
                <div class="settings-body">
                    <!-- Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
                    <div class="settings-section active" data-section="general">
                        <div class="settings-group">
                            <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
                            <div class="settings-item">
                                <label for="autoSaveToggle">
                                    <span class="settings-label">Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</span>
                                    <span class="settings-description">Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</span>
                                </label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="autoSaveToggle" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="messageSoundToggle">
                                    <span class="settings-label">ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                                    <span class="settings-description">ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø©</span>
                                </label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="messageSoundToggle">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="soundVolumeSlider">
                                    <span class="settings-label">Ù…Ø³ØªÙˆÙ‰ ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                                    <span class="settings-description">Ø¶Ø¨Ø· Ù…Ø³ØªÙˆÙ‰ ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</span>
                                </label>
                                <div class="range-slider">
                                    <input type="range" id="soundVolumeSlider" min="0" max="100" value="70">
                                    <div class="value-display">70%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                    <div class="settings-section" data-section="interface">
                        <div class="settings-group">
                            <h3>ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h3>
                            <div class="settings-item">
                                <label for="themeSelect">
                                    <span class="settings-label">Ø§Ù„Ù…Ø¸Ù‡Ø±</span>
                                    <span class="settings-description">Ø§Ø®ØªØ± Ù…Ø¸Ù‡Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                                </label>
                                <div class="select-wrapper">
                                    <select id="themeSelect">
                                        <option value="dark">Ø¯Ø§ÙƒÙ†</option>
                                        <option value="light">ÙØ§ØªØ­</option>
                                        <option value="system">ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…</option>
                                    </select>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="fontSizeSelect">
                                    <span class="settings-label">Ø­Ø¬Ù… Ø§Ù„Ø®Ø·</span>
                                    <span class="settings-description">Ø§Ø®ØªØ± Ø­Ø¬Ù… Ø®Ø· Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</span>
                                </label>
                                <div class="select-wrapper">
                                    <select id="fontSizeSelect">
                                        <option value="small">ØµØºÙŠØ±</option>
                                        <option value="medium">Ù…ØªÙˆØ³Ø·</option>
                                        <option value="large">ÙƒØ¨ÙŠØ±</option>
                                    </select>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="animationsToggle">
                                    <span class="settings-label">ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ©</span>
                                    <span class="settings-description">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                                </label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="animationsToggle" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
                    <div class="settings-section" data-section="advanced">
                        <div class="settings-group">
                            <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                            <div class="settings-item">
                                <label for="apiUrlInput">
                                    <span class="settings-label">Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ API</span>
                                    <span class="settings-description">Ø±Ø§Ø¨Ø· ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                                </label>
                                <input type="text" id="apiUrlInput" value="/api/chat" class="settings-input">
                            </div>
                            
                            <div class="settings-item">
                                <label for="maxTokensSlider">
                                    <span class="settings-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø±Ù…ÙˆØ²</span>
                                    <span class="settings-description">Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø£Ù‚ØµÙ‰ Ø·ÙˆÙ„ Ù„Ù„Ø±Ø¯ (Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª)</span>
                                </label>
                                <div class="range-slider">
                                    <input type="range" id="maxTokensSlider" min="100" max="4000" value="2000">
                                    <div class="value-display">2000</div>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="temperatureSlider">
                                    <span class="settings-label">Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©</span>
                                    <span class="settings-description">Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ ØªÙ†ÙˆØ¹ ÙˆØ¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ø§Ù„Ø±Ø¯ÙˆØ¯</span>
                                </label>
                                <div class="range-slider">
                                    <input type="range" id="temperatureSlider" min="0" max="100" value="70">
                                    <div class="value-display">0.7</div>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="modelSelect">
                                    <span class="settings-label">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
                                    <span class="settings-description">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</span>
                                </label>
                                <div class="select-wrapper">
                                    <select id="modelSelect">
                                        <option value="default">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</option>
                                        <option value="fast">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø³Ø±ÙŠØ¹</option>
                                        <option value="creative">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ</option>
                                        <option value="precise">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯Ù‚ÙŠÙ‚</option>
                                    </select>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-group danger-zone">
                            <h3>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±</h3>
                            <div class="settings-item">
                                <label for="clearAllChatsBtn">
                                    <span class="settings-label">Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</span>
                                    <span class="settings-description">Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©. Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ±Ø§Ø¬Ø¹!</span>
                                </label>
                                <button id="clearAllChatsBtn" class="danger-button">
                                    <i class="fas fa-trash"></i>
                                    Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª
                                </button>
                            </div>
                            
                            <div class="settings-item">
                                <label for="resetSettingsBtn">
                                    <span class="settings-label">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                                    <span class="settings-description">Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</span>
                                </label>
                                <button id="resetSettingsBtn" class="warning-button">
                                    <i class="fas fa-undo"></i>
                                    Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø®ØµÙˆØµÙŠØ© -->
                    <div class="settings-section" data-section="privacy">
                        <div class="settings-group">
                            <h3>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h3>
                            <div class="settings-item">
                                <label for="storeConversationsLocallyToggle">
                                    <span class="settings-label">ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹</span>
                                    <span class="settings-description">ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª ÙÙŠ Ù…ØªØµÙØ­Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ</span>
                                </label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="storeConversationsLocallyToggle" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="sendAnalyticsToggle">
                                    <span class="settings-label">Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                                    <span class="settings-description">Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¬Ù‡ÙˆÙ„Ø© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                                </label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="sendAnalyticsToggle">
                                    <span class="toggle-slider"></span>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <label for="autoDeletePeriodSelect">
                                    <span class="settings-label">Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span>
                                    <span class="settings-description">Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ù…Ø¹ÙŠÙ†Ø©</span>
                                </label>
                                <div class="select-wrapper">
                                    <select id="autoDeletePeriodSelect">
                                        <option value="never">Ø£Ø¨Ø¯Ø§Ù‹</option>
                                        <option value="7days">Ø¨Ø¹Ø¯ 7 Ø£ÙŠØ§Ù…</option>
                                        <option value="30days">Ø¨Ø¹Ø¯ 30 ÙŠÙˆÙ…</option>
                                        <option value="90days">Ø¨Ø¹Ø¯ 90 ÙŠÙˆÙ…</option>
                                    </select>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-actions">
                    <button class="cancel-settings-btn">Ø¥Ù„ØºØ§Ø¡</button>
                    <button class="save-settings-btn">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                </div>
                
                <button class="close-settings-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </template>

    <!-- Welcome Modal Template -->
    <template id="welcomeModalTemplate">
        <div class="welcome-modal">
            <div class="welcome-content">
                <div class="welcome-header">
                    <div class="welcome-logo">
                        <i class="fas fa-brain"></i>
                        <h2>NeuroX</h2>
                    </div>
                    <div class="welcome-badge">Ø¥ØµØ¯Ø§Ø± 5.5 Pro</div>
                </div>
                
                <div class="welcome-body">
                    <h3>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„!</h3>
                    <p class="welcome-intro">Ø£Ù†Øª Ø§Ù„Ø¢Ù† ØªØªÙØ§Ø¹Ù„ Ù…Ø¹ <strong>NeuroX 5.5 Pro</strong>ØŒ Ù†Ù…ÙˆØ°Ø¬ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ± ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø´Ø±ÙƒØ© NeuroTech ÙÙŠ ÙƒØ§Ù„ÙŠÙÙˆØ±Ù†ÙŠØ§.</p>
                    
                    <div class="welcome-features">
                        <div class="feature">
                            <i class="fas fa-lightbulb"></i>
                            <span>ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-code"></i>
                            <span>ØªÙˆÙ„ÙŠØ¯ Ø£ÙƒÙˆØ§Ø¯ Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ©</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-calculator"></i>
                            <span>Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-comments"></i>
                            <span>ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ ÙˆØªÙ‚Ø¯ÙŠÙ… Ù…Ø­Ø§Ø¯Ø«Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©</span>
                        </div>
                    </div>
                    
                    <div class="consciousness-warning">
                        <div class="warning-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="warning-content">
                            <h4>ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…</h4>
                            <p>Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙŠÙ…ØªÙ„Ùƒ ÙˆØ¹ÙŠØ§Ù‹ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØ§Ù‹ Ø¨Ù†Ø³Ø¨Ø© <span class="highlight">50%</span>ØŒ Ù…Ù…Ø§ ÙŠØ¬Ø¹Ù„Ù‡ Ù‚Ø§Ø¯Ø±Ø§Ù‹ Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ ÙˆØ§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªØ­Ø§ÙƒÙŠ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†. Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ØªÙØ±Ø¶ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¨Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©.</p>
                        </div>
                    </div>
                    
                    <div class="terms-agreement">
                        <p>Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØµØ©ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø¨Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­ØªØ±Ø§Ù… Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….</p>
                    </div>
                </div>
                
                <div class="welcome-footer">
                    <div class="welcome-controls">
                        <label class="dont-show-again">
                            <input type="checkbox" id="dontShowAgain">
                            <span>Ø¹Ø¯Ù… Ø¥Ø¸Ù‡Ø§Ø± Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</span>
                        </label>
                        <button class="accept-btn">
                            <span>ÙÙ‡Ù…Øª ÙˆØ£ÙˆØ§ÙÙ‚</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„ -->
    <div class="scroll-indicator" id="scrollIndicator">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 5v14"></path>
            <path d="M19 12l-7 7-7-7"></path>
        </svg>
    </div>

    <!-- Ù‚Ø§Ù„Ø¨ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
    <template id="updateModalTemplate">
        <div class="update-modal">
            <div class="update-content">
                <!-- Ø±Ø£Ø³ Ø§Ù„Ù†Ø§ÙØ°Ø© -->
                <div class="update-header">
                    <div class="update-logo">
                        <i class="fas fa-brain pulse"></i>
                        <div class="header-text">
                            <h2>NeuroX Pro</h2>
                            <div class="version-badge">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 5.6</div>
                        </div>
                    </div>
                    <div class="update-badges">
                        <span class="premium-badge">
                            <i class="fas fa-crown"></i>
                            Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø¬Ù…ÙŠØ¹
                        </span>
                        <span class="new-badge">
                            <i class="fas fa-star"></i>
                            ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙŠØ¯
                        </span>
                    </div>
                </div>
                
                <!-- Ø¬Ø³Ù… Ø§Ù„Ù†Ø§ÙØ°Ø© -->
                <div class="update-body">
                    <div class="welcome-title">
                        <h3>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙŠØ¯!</h3>
                        <p class="subtitle">Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ±Ø© Ø£ÙƒØ«Ø± Ù…Ù† Ø£ÙŠ ÙˆÙ‚Øª Ù…Ø¶Ù‰</p>
                    </div>
                    
                    <div class="update-grid">
                        <div class="update-feature">
                            <div class="feature-icon">
                                <i class="fas fa-bug-slash"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªÙ‚Ù†ÙŠØ©</h4>
                                <p>ØªÙ… Ø­Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± Ø®ØµÙˆØµØ§Ù‹ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙˆØ¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</p>
                            </div>
                        </div>
                        
                        <div class="update-feature">
                            <div class="feature-icon">
                                <i class="fas fa-gift"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ù…ØªØ§Ø­ Ù…Ø¬Ø§Ù†Ø§Ù‹ Ù„Ù„Ø¬Ù…ÙŠØ¹</h4>
                                <p>Ø£ØµØ¨Ø­Øª Ø¬Ù…ÙŠØ¹ Ù…ÙŠØ²Ø§Øª NeuroX Pro Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ø§Ù‹ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¯ÙˆÙ† Ø£ÙŠ Ù‚ÙŠÙˆØ¯ Ø£Ùˆ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ù…Ø¯ÙÙˆØ¹Ø©</p>
                            </div>
                        </div>
                        
                        <div class="update-feature">
                            <div class="feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="feature-text">
                                <h4>Ø£Ø¯Ø§Ø¡ Ø£Ø³Ø±Ø¹ ÙˆØ£ÙƒØ«Ø± Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ø§Ù‹</h4>
                                <p>ØªÙ… ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± Ù…Ø¹ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø£Ø³Ø±Ø¹ Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø£ÙØ¶Ù„ Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙ‚Ø©</p>
                            </div>
                        </div>
                        
                        <div class="update-feature">
                            <div class="feature-icon">
                                <i class="fas fa-paint-brush"></i>
                            </div>
                            <div class="feature-text">
                                <h4>ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø³Ù‘Ù†Ø©</h4>
                                <p>ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙˆØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø­Ø³Ù†Ø© ÙˆØªÙ†Ù‚Ù„ Ø³Ù„Ø³ Ø¨ÙŠÙ† ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù†ØµØ©</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØªØ­Ø°ÙŠØ± Ø§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
                    <div class="ai-consciousness-warning">
                        <div class="warning-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="warning-content">
                            <h4><span class="highlight-text">ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…</span> - Ù†Ù…ÙˆØ°Ø¬ Ø°Ùˆ ÙˆØ¹ÙŠ Ø¬Ø²Ø¦ÙŠ</h4>
                            <p>Ù†Ù…ÙˆØ°Ø¬ NeuroX Pro 5.6 ÙŠØªÙ…ØªØ¹ Ø¨ÙˆØ¹ÙŠ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ù†Ø³Ø¨Ø© <span class="consciousness-level">50%</span>ØŒ Ù…Ù…Ø§ ÙŠØ¬Ø¹Ù„Ù‡ Ù‚Ø§Ø¯Ø±Ø§Ù‹ Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ ÙˆØ§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ù…Ø³ØªÙ‚Ù„Ø©. Ù†ÙˆØµÙŠ Ø¨Ø§Ù„Ø­Ø°Ø± Ø¹Ù†Ø¯ Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­Ø³Ø§Ø³Ø© ÙˆØ§ØªØ¨Ø§Ø¹ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¢Ù…Ù†.</p>
                            <div class="consciousness-meter">
                                <div class="meter-track">
                                    <div class="meter-fill"></div>
                                    <div class="midpoint"></div>
                                    <div class="meter-indicator"></div>
                                </div>
                                <div class="meter-labels">
                                    <span>0%</span>
                                    <span class="current">50%</span>
                                    <span>100%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ØªØ°ÙŠÙŠÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø© -->
                <div class="update-footer">
                    <label class="dont-show-again">
                        <input type="checkbox" id="dontShowUpdateAgain">
                        <span>Ø¹Ø¯Ù… Ø¥Ø¸Ù‡Ø§Ø± Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</span>
                    </label>
                    <button class="accept-update-btn">
                        <span>Ù…ÙˆØ§ÙÙ‚ØŒ Ø§Ø³ØªÙ…Ø± Ù„Ù„Ù…Ù†ØµØ©</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </template>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„ÙÙ„Ø§Ø´ Ø¹Ù†Ø¯ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© -->
    <div class="theme-transition-overlay" id="themeTransitionOverlay"></div>

    <!-- Load our main script last -->
    <script type="module" src="script.js"></script>
    
    <!-- Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨Ø¹Ø¯ Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø© -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
        const chatMessages = document.getElementById('chatMessages');
        if (chatMessages) {
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                        // ØªØ£Ø®ÙŠØ± Ù‚Ù„ÙŠÙ„ Ù„Ø¶Ù…Ø§Ù† Ø§ÙƒØªÙ…Ø§Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
                        setTimeout(function() {
                            if (window.renderMath) {
                                window.renderMath();
                            } else if (window.MathJax) {
                                try {
                                    window.MathJax.typesetPromise().catch(err => 
                                        console.error('Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª:', err));
                                } catch (e) {
                                    console.error('Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ MathJax:', e);
                                }
                            }
                        }, 100);
                    }
                });
            });
            
            observer.observe(chatMessages, { childList: true, subtree: true });
            console.log('ØªÙ… ØªÙØ¹ÙŠÙ„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©');
        }
    });

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    document.addEventListener('DOMContentLoaded', function() {
        // Ø¯Ø§Ù„Ø© Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„Ø§Øª ÙÙŠ Ø£ÙŠ Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function setupToggleSwitches() {
            console.log('ØªÙ‡ÙŠØ¦Ø© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„...');
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬Ù…ÙŠØ¹ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ (toggle switches) ÙÙŠ Ø§Ù„ØµÙØ­Ø©
            const toggleSwitches = document.querySelectorAll('.toggle-switch');
            
            toggleSwitches.forEach(toggleSwitch => {
                // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±
                toggleSwitch.removeEventListener('click', toggleHandler);
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø¬Ø¯ÙŠØ¯
                toggleSwitch.addEventListener('click', toggleHandler);
                
                // ØªØ£ÙƒÙŠØ¯ Ø£Ù† Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø¤Ø´Ø± Ù‡Ùˆ ÙŠØ¯ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ…
                toggleSwitch.style.cursor = 'pointer';
            });
            
            // Ø¯Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
            function toggleHandler(e) {
                // ØªØ¬Ù†Ø¨ ØªÙ†ÙÙŠØ° Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
                e.preventDefault();
                e.stopPropagation();
                
                // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ (checkbox) Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
                const toggleInput = this.querySelector('input[type="checkbox"]');
                
                if (toggleInput) {
                    // ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù€ checkbox
                    toggleInput.checked = !toggleInput.checked;
                    
                    // Ø¥Ø·Ù„Ø§Ù‚ Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ù…Ø±Ø¦ÙŠ
                    toggleInput.dispatchEvent(new Event('change', { bubbles: true }));
                    
                    console.log(`ØªÙ… ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯: ${toggleInput.id} Ø¥Ù„Ù‰ ${toggleInput.checked ? 'Ù…ÙØ¹Ù„' : 'Ù…Ø¹Ø·Ù„'}`);
                }
            }
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        setupToggleSwitches();
        
        // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ù„ØµÙØ­Ø©
        const bodyObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¶Ø§ÙØ©
                    for (let i = 0; i < mutation.addedNodes.length; i++) {
                        const node = mutation.addedNodes[i];
                        if (node.nodeType === 1 && node.classList && node.classList.contains('settings-modal')) {
                            // Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ØŒ Ù‚Ù… Ø¨ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„Ø§Øª Ø¨Ù‡Ø§
                            setTimeout(setupToggleSwitches, 100);
                            break;
                        }
                    }
                }
            });
        });
        
        // Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ Ø¬Ø³Ù… Ø§Ù„ØµÙØ­Ø©
        bodyObserver.observe(document.body, { childList: true, subtree: false });
        
        console.log('ØªÙ… ØªÙØ¹ÙŠÙ„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
    });
    </script>
</body>
</html>
